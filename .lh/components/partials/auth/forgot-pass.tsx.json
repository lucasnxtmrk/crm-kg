{
    "sourceFile": "components/partials/auth/forgot-pass.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1746914772126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1746914772126,
            "name": "Commit-0",
            "content": "\"use client\";\n\nimport React, { useTransition } from \"react\";\nimport { useForm, SubmitHandler } from \"react-hook-form\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { toast } from \"sonner\";\n\ntype Inputs = {\n  email: string;\n};\n\nconst ForgotPass = () => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<Inputs>();\n\n  const [isPending, startTransition] = useTransition();\n\n  const onSubmit: SubmitHandler<Inputs> = (data) => {\n    startTransition(async () => {\n      const res = await fetch(\"/api/usuarios/redefinir-senha\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email: data.email }),\n      });\n\n      if (res.ok) {\n        toast.success(\"Se o e-mail existir, enviamos as instruções.\");\n      } else {\n        toast.error(\"Erro ao solicitar redefinição de senha.\");\n      }\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">E-mail</Label>\n        <Input\n          id=\"email\"\n          placeholder=\"seu@email.com\"\n          {...register(\"email\", { required: \"E-mail é obrigatório\" })}\n          className=\"h-[48px] text-sm text-default-900\"\n          disabled={isPending}\n        />\n        {errors.email && (\n          <p className=\"text-sm text-destructive\">{errors.email.message}</p>\n        )}\n      </div>\n\n      <Button type=\"submit\" fullWidth disabled={isPending}>\n        {isPending ? \"Enviando...\" : \"Enviar instruções\"}\n      </Button>\n    </form>\n  );\n};\n\nexport default ForgotPass;\n"
        }
    ]
}