{
    "sourceFile": "app/[locale]/(protected)/eventos/[eventoId]/components/Ranking.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 9,
            "patches": [
                {
                    "date": 1746576313401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1746577455156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,16 @@\n 'use client'\r\n \r\n import Image from 'next/image'\r\n import { cn } from '@/lib/utils'\r\n-import { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\r\n+import { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\"\r\n \r\n interface Participante {\r\n   id: string\r\n   nome: string\r\n   imagem: string\r\n   atingido: number\r\n+  meta: number\r\n }\r\n \r\n interface Props {\r\n   participantes: Participante[]\r\n@@ -17,59 +18,82 @@\n \r\n export default function RankingLeaderboard({ participantes }: Props) {\r\n   const ordenados = [...participantes].sort((a, b) => b.atingido - a.atingido)\r\n \r\n+  const calcularEstrelas = (atingido: number, meta: number) => {\r\n+    if (!meta) return 0\r\n+    const porcentagem = (atingido / meta) * 100\r\n+    return Math.min(5, Math.floor((porcentagem / 100) * 5))\r\n+  }\r\n+\r\n   const medalhas = ['🥇', '🥈', '🥉']\r\n \r\n+  const podium = ordenados.slice(0, 3)\r\n+  const restantes = ordenados.slice(3)\r\n+\r\n   return (\r\n-    <div className=\"max-w min-h-[80vh]  mx-auto p-4 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n-      <h2 className=\"text-center text-2xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n+    <div className=\"w-full max-w-3xl mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+      <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n-      <ul className=\"space-y-2\">\r\n-        {ordenados.map((p, index) => (\r\n-          <li\r\n+      {/* PODIUM */}\r\n+      <div className=\"flex justify-around items-end mb-10\">\r\n+        {podium.map((p, index) => (\r\n+          <div\r\n             key={p.id}\r\n             className={cn(\r\n-              \"flex items-center justify-between px-4 py-2 rounded-lg\",\r\n-              index === 0 ? 'bg-yellow-700 bg-opacity-30' :\r\n-              index === 1 ? 'bg-gray-400 bg-opacity-30' :\r\n-              index === 2 ? 'bg-orange-700 bg-opacity-30' :\r\n-              'bg-white bg-opacity-10'\r\n+              \"flex flex-col items-center justify-end\",\r\n+              index === 0 ? 'h-44' : index === 1 ? 'h-36' : 'h-32'\r\n             )}\r\n           >\r\n-            {/* Posição e medalha */}\r\n-            <div className=\"flex items-center gap-2 w-12 font-bold\">\r\n-              {index < 3 ? medalhas[index] : index + 1}\r\n+            <div\r\n+              className={cn(\r\n+                \"flex flex-col items-center justify-center px-4 py-2 rounded-lg shadow-lg\",\r\n+                index === 0 ? 'bg-yellow-400 text-black' : index === 1 ? 'bg-gray-300 text-black' : 'bg-orange-300 text-black'\r\n+              )}\r\n+            >\r\n+              <Avatar className=\"h-16 w-16 border-4 border-white mb-2\">\r\n+                <AvatarImage src={p.imagem} alt={p.nome} />\r\n+                <AvatarFallback>{p.nome[0]}</AvatarFallback>\r\n+              </Avatar>\r\n+              <div className=\"text-sm font-semibold text-center\">{p.nome}</div>\r\n+              <div className=\"text-xs\">{medalhas[index]}</div>\r\n+              <div className=\"mt-1 flex gap-0.5\">\r\n+                {Array.from({ length: 5 }).map((_, i) => (\r\n+                  <span key={i}>{i < calcularEstrelas(p.atingido, p.meta) ? '⭐' : '☆'}</span>\r\n+                ))}\r\n+              </div>\r\n+              <div className=\"text-sm font-bold mt-1\">{p.atingido} pts</div>\r\n             </div>\r\n+          </div>\r\n+        ))}\r\n+      </div>\r\n \r\n-            {/* Imagem e nome */}\r\n+      {/* RESTANTE DO RANKING */}\r\n+      <ul className=\"space-y-2\">\r\n+        {restantes.map((p, index) => (\r\n+          <li\r\n+            key={p.id}\r\n+            className=\"flex items-center justify-between px-4 py-2 rounded-lg bg-white bg-opacity-10\"\r\n+          >\r\n+            <div className=\"w-6 text-center font-bold\">{index + 4}</div>\r\n             <div className=\"flex items-center gap-3 flex-1\">\r\n-            <Avatar className=\"h-10 w-10 bg-primary text-white font-bold border border-white\">\r\n-  <AvatarImage\r\n-    src={p.imagem}\r\n-    alt={p.nome}\r\n-    onError={(e) => (e.currentTarget.style.display = 'none')}\r\n-  />\r\n-  <AvatarFallback>\r\n-    {p.nome\r\n-      .split(' ')\r\n-      .map((n) => n[0])\r\n-      .join('')\r\n-      .toUpperCase()\r\n-      .slice(0, 2)}\r\n-  </AvatarFallback>\r\n-</Avatar>\r\n-<span className=\"font-medium\">{p.nome}</span>\r\n+              <Avatar className=\"h-10 w-10 bg-primary text-white font-bold border border-white\">\r\n+                <AvatarImage\r\n+                  src={p.imagem}\r\n+                  alt={p.nome}\r\n+                  onError={(e) => (e.currentTarget.style.display = 'none')}\r\n+                />\r\n+                <AvatarFallback>\r\n+                  {p.nome.split(' ').map((n) => n[0]).join('').toUpperCase().slice(0, 2)}\r\n+                </AvatarFallback>\r\n+              </Avatar>\r\n+              <span className=\"font-medium\">{p.nome}</span>\r\n             </div>\r\n-\r\n-            {/* Estrelas */}\r\n             <div className=\"flex gap-1\">\r\n               {Array.from({ length: 5 }).map((_, i) => (\r\n-                <span key={i}>{i < Math.round(p.atingido / 1000) ? '⭐' : '☆'}</span>\r\n+                <span key={i}>{i < calcularEstrelas(p.atingido, p.meta) ? '⭐' : '☆'}</span>\r\n               ))}\r\n             </div>\r\n-\r\n-            {/* Pontuação */}\r\n             <div className=\"w-12 text-right font-bold\">{p.atingido}</div>\r\n           </li>\r\n         ))}\r\n       </ul>\r\n"
                },
                {
                    "date": 1746577503830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n   const podium = ordenados.slice(0, 3)\r\n   const restantes = ordenados.slice(3)\r\n \r\n   return (\r\n-    <div className=\"w-full max-w-3xl mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+    <div className=\"w-full mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n       <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n       {/* PODIUM */}\r\n       <div className=\"flex justify-around items-end mb-10\">\r\n"
                },
                {
                    "date": 1746577515334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n   const podium = ordenados.slice(0, 3)\r\n   const restantes = ordenados.slice(3)\r\n \r\n   return (\r\n-    <div className=\"w-full mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+    <div className=\"w-full max-w-3xl mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n       <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n       {/* PODIUM */}\r\n       <div className=\"flex justify-around items-end mb-10\">\r\n"
                },
                {
                    "date": 1746577563872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,10 @@\n   const podium = ordenados.slice(0, 3)\r\n   const restantes = ordenados.slice(3)\r\n \r\n   return (\r\n-    <div className=\"w-full max-w-3xl mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+    <div className=\"w-full  mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+      <div className=''>\r\n       <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n       {/* PODIUM */}\r\n       <div className=\"flex justify-around items-end mb-10\">\r\n@@ -96,7 +97,8 @@\n             <div className=\"w-12 text-right font-bold\">{p.atingido}</div>\r\n           </li>\r\n         ))}\r\n       </ul>\r\n+      </div>\r\n     </div>\r\n   )\r\n }\r\n"
                },
                {
                    "date": 1746577573111,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n   const restantes = ordenados.slice(3)\r\n \r\n   return (\r\n     <div className=\"w-full  mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n-      <div className=''>\r\n+      <div className='max-w-3xl'>\r\n       <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n       {/* PODIUM */}\r\n       <div className=\"flex justify-around items-end mb-10\">\r\n"
                },
                {
                    "date": 1746577583326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n   const podium = ordenados.slice(0, 3)\r\n   const restantes = ordenados.slice(3)\r\n \r\n   return (\r\n-    <div className=\"w-full  mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+    <div className=\"w-full items-center mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n       <div className='max-w-3xl'>\r\n       <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n       {/* PODIUM */}\r\n"
                },
                {
                    "date": 1746577591124,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n   const podium = ordenados.slice(0, 3)\r\n   const restantes = ordenados.slice(3)\r\n \r\n   return (\r\n-    <div className=\"w-full items-center mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+    <div className=\"w-full align-center mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n       <div className='max-w-3xl'>\r\n       <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n       {/* PODIUM */}\r\n"
                },
                {
                    "date": 1746577603142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,10 +30,10 @@\n   const podium = ordenados.slice(0, 3)\r\n   const restantes = ordenados.slice(3)\r\n \r\n   return (\r\n-    <div className=\"w-full align-center mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n-      <div className='max-w-3xl'>\r\n+    <div className=\"w-full  mx-auto p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+      <div className='max-w-3xl align-center'>\r\n       <h2 className=\"text-center text-3xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n \r\n       {/* PODIUM */}\r\n       <div className=\"flex justify-around items-end mb-10\">\r\n"
                },
                {
                    "date": 1746577899056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,106 @@\n+'use client'\r\n+\r\n+import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\r\n+\r\n+interface Participante {\r\n+  id: string\r\n+  nome: string\r\n+  imagem: string\r\n+  atingido: number\r\n+  meta: number\r\n+}\r\n+\r\n+interface Props {\r\n+  participantes: Participante[]\r\n+}\r\n+\r\n+export default function RankingLeaderboard({ participantes }: Props) {\r\n+  const ordenados = [...participantes].sort((a, b) => b.atingido - a.atingido)\r\n+  const top3 = ordenados.slice(0, 3)\r\n+  const restantes = ordenados.slice(3)\r\n+\r\n+  const calcularEstrelas = (atingido: number, meta: number) => {\r\n+    const proporcao = meta > 0 ? atingido / meta : 0\r\n+    const estrelas = Math.min(5, Math.floor(proporcao * 5))\r\n+    return estrelas\r\n+  }\r\n+\r\n+  return (\r\n+    <div className=\"min-h-screen p-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n+      <h2 className=\"text-center text-3xl font-bold mb-8\">🏆 Ranking do Evento</h2>\r\n+\r\n+      {/* Pódio */}\r\n+      <div className=\"flex justify-center items-end gap-4 mb-12\">\r\n+        {top3.map((p, index) => {\r\n+          const alturas = ['h-48', 'h-64', 'h-40']\r\n+          const cores = ['bg-yellow-500', 'bg-gray-400', 'bg-orange-500']\r\n+          const posicoes = [1, 0, 2] // Para ordenar: 2º, 1º, 3º\r\n+\r\n+          return (\r\n+            <div key={p.id} className=\"flex flex-col items-center\">\r\n+              <div\r\n+                className={`w-24 ${alturas[posicoes[index]]} ${cores[posicoes[index]]} rounded-t-md flex flex-col items-center justify-end animate-bounce`}\r\n+              >\r\n+                <Avatar className=\"mb-2\">\r\n+                  <AvatarImage src={p.imagem} alt={p.nome} />\r\n+                  <AvatarFallback>\r\n+                    {p.nome\r\n+                      .split(' ')\r\n+                      .map((n) => n[0])\r\n+                      .join('')\r\n+                      .toUpperCase()\r\n+                      .slice(0, 2)}\r\n+                  </AvatarFallback>\r\n+                </Avatar>\r\n+                <span className=\"text-lg font-bold\">{p.nome}</span>\r\n+                <div className=\"flex\">\r\n+                  {Array.from({ length: calcularEstrelas(p.atingido, p.meta) }).map((_, i) => (\r\n+                    <span key={i}>⭐</span>\r\n+                  ))}\r\n+                </div>\r\n+                <span className=\"text-sm\">{p.atingido} pts</span>\r\n+              </div>\r\n+              <span className=\"mt-2 text-xl\">\r\n+                {['🥇', '🥈', '🥉'][posicoes[index]]}\r\n+              </span>\r\n+            </div>\r\n+          )\r\n+        })}\r\n+      </div>\r\n+\r\n+      {/* Demais participantes */}\r\n+      <ul className=\"space-y-4\">\r\n+        {restantes.map((p, index) => (\r\n+          <li\r\n+            key={p.id}\r\n+            className=\"flex items-center justify-between bg-white bg-opacity-10 px-4 py-2 rounded-lg\"\r\n+          >\r\n+            <div className=\"flex items-center gap-4\">\r\n+              <span className=\"text-xl font-bold\">{index + 4}</span>\r\n+              <Avatar>\r\n+                <AvatarImage src={p.imagem} alt={p.nome} />\r\n+                <AvatarFallback>\r\n+                  {p.nome\r\n+                    .split(' ')\r\n+                    .map((n) => n[0])\r\n+                    .join('')\r\n+                    .toUpperCase()\r\n+                    .slice(0, 2)}\r\n+                </AvatarFallback>\r\n+              </Avatar>\r\n+              <span className=\"font-medium\">{p.nome}</span>\r\n+            </div>\r\n+            <div className=\"flex items-center gap-2\">\r\n+              <div className=\"flex\">\r\n+                {Array.from({ length: calcularEstrelas(p.atingido, p.meta) }).map((_, i) => (\r\n+                  <span key={i}>⭐</span>\r\n+                ))}\r\n+              </div>\r\n+              <span className=\"font-bold\">{p.atingido} pts</span>\r\n+            </div>\r\n+          </li>\r\n+        ))}\r\n+      </ul>\r\n+    </div>\r\n+  )\r\n+}\r\n"
                }
            ],
            "date": 1746576313401,
            "name": "Commit-0",
            "content": "'use client'\r\n\r\nimport Image from 'next/image'\r\nimport { cn } from '@/lib/utils'\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\r\n\r\ninterface Participante {\r\n  id: string\r\n  nome: string\r\n  imagem: string\r\n  atingido: number\r\n}\r\n\r\ninterface Props {\r\n  participantes: Participante[]\r\n}\r\n\r\nexport default function RankingLeaderboard({ participantes }: Props) {\r\n  const ordenados = [...participantes].sort((a, b) => b.atingido - a.atingido)\r\n\r\n  const medalhas = ['🥇', '🥈', '🥉']\r\n\r\n  return (\r\n    <div className=\"max-w min-h-[80vh]  mx-auto p-4 bg-gradient-to-br from-purple-900 via-indigo-800 to-purple-800 rounded-xl shadow-lg text-white\">\r\n      <h2 className=\"text-center text-2xl font-bold mb-6\">🏆 Ranking do Evento</h2>\r\n\r\n      <ul className=\"space-y-2\">\r\n        {ordenados.map((p, index) => (\r\n          <li\r\n            key={p.id}\r\n            className={cn(\r\n              \"flex items-center justify-between px-4 py-2 rounded-lg\",\r\n              index === 0 ? 'bg-yellow-700 bg-opacity-30' :\r\n              index === 1 ? 'bg-gray-400 bg-opacity-30' :\r\n              index === 2 ? 'bg-orange-700 bg-opacity-30' :\r\n              'bg-white bg-opacity-10'\r\n            )}\r\n          >\r\n            {/* Posição e medalha */}\r\n            <div className=\"flex items-center gap-2 w-12 font-bold\">\r\n              {index < 3 ? medalhas[index] : index + 1}\r\n            </div>\r\n\r\n            {/* Imagem e nome */}\r\n            <div className=\"flex items-center gap-3 flex-1\">\r\n            <Avatar className=\"h-10 w-10 bg-primary text-white font-bold border border-white\">\r\n  <AvatarImage\r\n    src={p.imagem}\r\n    alt={p.nome}\r\n    onError={(e) => (e.currentTarget.style.display = 'none')}\r\n  />\r\n  <AvatarFallback>\r\n    {p.nome\r\n      .split(' ')\r\n      .map((n) => n[0])\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2)}\r\n  </AvatarFallback>\r\n</Avatar>\r\n<span className=\"font-medium\">{p.nome}</span>\r\n            </div>\r\n\r\n            {/* Estrelas */}\r\n            <div className=\"flex gap-1\">\r\n              {Array.from({ length: 5 }).map((_, i) => (\r\n                <span key={i}>{i < Math.round(p.atingido / 1000) ? '⭐' : '☆'}</span>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Pontuação */}\r\n            <div className=\"w-12 text-right font-bold\">{p.atingido}</div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n"
        }
    ]
}